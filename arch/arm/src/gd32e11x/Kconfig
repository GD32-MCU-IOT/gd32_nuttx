#
# For a description of the syntax of this configuration file,
# see the file kconfig-language.txt in the NuttX tools repository.
#

comment "GD32E11x Configuration Options"

depends on ARCH_CHIP_GD32E11X

choice
	prompt "GD32E11x Chip Selection"
	default ARCH_CHIP_GD32E113VB

config ARCH_CHIP_GD32E113VB
	bool "GD32E113VB"
	select ARCH_CHIP_GD32E113
	---help---
		GD32E113VB (package VB). 128KB Flash, 32KB SRAM.

endchoice

choice
	prompt "Override Flash Size Designator"
	default GD32E11X_FLASH_CONFIG_DEFAULT
	depends on ARCH_CHIP_GD32E11X
	---help---
		GD32E11x series parts numbering (sans the package type)
		ends with a number or letter that designates the FLASH size.

				Designator  Size in KiB
				   8    64
				   B    128
				   C    256
				   E    512
				   G    1024

		This configuration option defaults to using the configuration based
		on that designator or the default smaller size if there is no last
		character designator is present in the GD32E11x Chip Selection.

config GD32E11X_FLASH_CONFIG_DEFAULT
	bool "Default"

config GD32E11X_FLASH_CONFIG_8
	bool "8 64KiB"

config GD32E11X_FLASH_CONFIG_B
	bool "B 128KiB"

endchoice

config ARCH_CHIP_GD32E113
	bool
	default n
	select GD32E11X_GD32E11X

config GD32E11X_GD32E11X
	bool
	default n
	select ARCH_ARMV7M
	select ARCH_CORTEXM4
	select ARCH_HAVE_FPU
	select ARCH_HAVE_MPU
	select ARCH_HAVE_RESET_H
	select ARCH_HAVE_SYSTICK_IRQ
	select GD32E11X_HAVE_DMA0
	select GD32E11X_HAVE_DMA1
	select GD32E11X_HAVE_EXMC
	select GD32E11X_HAVE_USART0
	select GD32E11X_HAVE_USART1
	select GD32E11X_HAVE_USART2
	select GD32E11X_HAVE_UART3
	select GD32E11X_HAVE_UART4
	select GD32E11X_HAVE_SPI0
	select GD32E11X_HAVE_SPI1
	select GD32E11X_HAVE_SPI2
	select GD32E11X_HAVE_I2C0
	select GD32E11X_HAVE_I2C1
	select GD32E11X_HAVE_ADC0
	select GD32E11X_HAVE_ADC1
	select GD32E11X_HAVE_DAC
	select GD32E11X_HAVE_TIMER0
	select GD32E11X_HAVE_TIMER1
	select GD32E11X_HAVE_TIMER2
	select GD32E11X_HAVE_TIMER3
	select GD32E11X_HAVE_TIMER4
	select GD32E11X_HAVE_TIMER5
	select GD32E11X_HAVE_TIMER6
	select GD32E11X_HAVE_TIMER7
	select GD32E11X_HAVE_USBFS
	select GD32E11X_HAVE_CAN0
	select GD32E11X_HAVE_CAN1

menu "GD32E11x Peripheral Support"

# These "hidden" settings determine whether a peripheral option is available
# for the selected MCU

config GD32E11X_HAVE_DMA0
	bool
	default n

config GD32E11X_HAVE_DMA1
	bool
	default n

config GD32E11X_HAVE_EXMC
	bool
	default n

# These "hidden" settings determine whether a peripheral option is available
# for the selected MCU

config GD32E11X_HAVE_USART0
	bool
	default n

config GD32E11X_HAVE_USART1
	bool
	default n

config GD32E11X_HAVE_USART2
	bool
	default n

config GD32E11X_HAVE_UART3
	bool
	default n

config GD32E11X_HAVE_UART4
	bool
	default n

config GD32E11X_HAVE_SPI0
	bool
	default n

config GD32E11X_HAVE_SPI1
	bool
	default n

config GD32E11X_HAVE_SPI2
	bool
	default n

config GD32E11X_HAVE_I2C0
	bool
	default n

config GD32E11X_HAVE_I2C1
	bool
	default n

config GD32E11X_HAVE_ADC0
	bool
	default n

config GD32E11X_HAVE_ADC1
	bool
	default n

config GD32E11X_HAVE_TIMER0
	bool
	default n

config GD32E11X_HAVE_TIMER1
	bool
	default n

config GD32E11X_HAVE_TIMER2
	bool
	default n

config GD32E11X_HAVE_TIMER3
	bool
	default n

config GD32E11X_HAVE_TIMER4
	bool
	default n

config GD32E11X_HAVE_TIMER5
	bool
	default n

config GD32E11X_HAVE_TIMER6
	bool
	default n

config GD32E11X_HAVE_TIMER7
	bool
	default n

config GD32E11X_HAVE_DAC
	bool
	default n

config GD32E11X_HAVE_USBFS
	bool
	default n

config GD32E11X_HAVE_CAN0
	bool
	default n

config GD32E11X_HAVE_CAN1
	bool
	default n

# Peripheral Selection

config GD32E11X_ADC0
	bool "ADC0"
	default n
	depends on GD32E11X_HAVE_ADC0
	select GD32E11X_ADC
	select GD32E11X_HAVE_ADC0_DMA if GD32E11X_DMA1

config GD32E11X_ADC1
	bool "ADC1"
	default n
	depends on GD32E11X_HAVE_ADC1
	select GD32E11X_ADC
	select GD32E11X_HAVE_ADC1_DMA if GD32E11X_DMA1

config GD32E11X_CAN0
	bool "CAN0"
	select CAN
	select GD32E11X_CAN
	default n
	depends on GD32E11X_HAVE_CAN0

config GD32E11X_CAN1
	bool "CAN1"
	select CAN
	select GD32E11X_CAN
	default n
	depends on GD32E11X_HAVE_CAN1

config GD32E11X_DAC0
	bool "DAC0"
	default n
	depends on GD32E11X_HAVE_DAC
	select GD32E11X_DAC

config GD32E11X_DAC1
	bool "DAC1"
	default n
	depends on GD32E11X_HAVE_DAC
	select GD32E11X_DAC

config GD32E11X_DMA0
	bool "DMA0"
	default n
	select GD32E11X_DMA
	select ARCH_DMA

config GD32E11X_DMA1
	bool "DMA1"
	default n
	select GD32E11X_DMA
	select ARCH_DMA

config GD32E11X_I2C0
	bool "I2C0"
	default n
	depends on GD32E11X_HAVE_I2C0
	select GD32E11X_I2C

config GD32E11X_I2C1
	bool "I2C1"
	default n
	depends on GD32E11X_HAVE_I2C1
	select GD32E11X_I2C

config GD32E11X_SPI0
	bool "SPI0"
	default n
	depends on GD32E11X_HAVE_SPI0
	select GD32E11X_SPI
	select SPI

config GD32E11X_SPI1
	bool "SPI1"
	default n
	depends on GD32E11X_HAVE_SPI1
	select GD32E11X_SPI
	select SPI

config GD32E11X_SPI2
	bool "SPI2"
	default n
	depends on GD32E11X_HAVE_SPI2
	select GD32E11X_SPI
	select SPI

config GD32E11X_I2S1
	bool "I2S1"
	default n
	depends on GD32E11X_HAVE_SPI1
	select SPI
	select GD32E11X_I2S

config GD32E11X_I2S2
	bool "I2S2"
	default n
	depends on GD32E11X_HAVE_SPI2
	select SPI
	select GD32E11X_I2S

config GD32E11X_TIMER0
	bool "TIMER0"
	default n
	depends on GD32E11X_HAVE_TIMER0
	select GD32E11X_TIMER

config GD32E11X_TIMER1
	bool "TIMER1"
	default n
	depends on GD32E11X_HAVE_TIMER1
	select GD32E11X_TIMER

config GD32E11X_TIMER2
	bool "TIMER2"
	default n
	depends on GD32E11X_HAVE_TIMER2
	select GD32E11X_TIMER

config GD32E11X_TIMER3
	bool "TIMER3"
	default n
	depends on GD32E11X_HAVE_TIMER3
	select GD32E11X_TIMER

config GD32E11X_TIMER4
	bool "TIMER4"
	default n
	depends on GD32E11X_HAVE_TIMER4
	select GD32E11X_TIMER

config GD32E11X_TIMER5
	bool "TIMER5"
	default n
	depends on GD32E11X_HAVE_TIMER5
	select GD32E11X_TIMER

config GD32E11X_TIMER6
	bool "TIMER6"
	default n
	depends on GD32E11X_HAVE_TIMER6
	select GD32E11X_TIMER

config GD32E11X_TIMER7
	bool "TIMER7"
	default n
	depends on GD32E11X_HAVE_TIMER7
	select GD32E11X_TIMER

config GD32E11X_USART0
	bool "USART0"
	default n
	depends on GD32E11X_HAVE_USART0
	select GD32E11X_USART
	select ARCH_HAVE_SERIAL_TERMIOS

config GD32E11X_USART1
	bool "USART1"
	default n
	depends on GD32E11X_HAVE_USART1
	select GD32E11X_USART
	select ARCH_HAVE_SERIAL_TERMIOS

config GD32E11X_USART2
	bool "USART2"
	default n
	depends on GD32E11X_HAVE_USART2
	select GD32E11X_USART
	select ARCH_HAVE_SERIAL_TERMIOS

config GD32E11X_UART3
	bool "UART3"
	default n
	depends on GD32E11X_HAVE_UART3
	select GD32E11X_USART
	select ARCH_HAVE_SERIAL_TERMIOS

config GD32E11X_UART4
	bool "UART4"
	default n
	depends on GD32E11X_HAVE_UART4
	select GD32E11X_USART
	select ARCH_HAVE_SERIAL_TERMIOS

config GD32E11X_USBFS
	bool "USBFS"
	default n
	depends on GD32E11X_HAVE_USBFS

config GD32E11X_EXMC
	bool "EXMC"
	default n
	depends on GD32E11X_HAVE_EXMC

config GD32E11X_ADC
	bool

config GD32E11X_HAVE_ADC0_DMA
	bool
	default n

config GD32E11X_HAVE_ADC1_DMA
	bool
	default n

config GD32E11X_CAN
	bool

config GD32E11X_DAC
	bool

config GD32E11X_DMA
	bool

config GD32E11X_I2C
	bool

config GD32E11X_I2S
	bool

config GD32E11X_SPI
	bool

config GD32E11X_TIMER
	bool

config GD32E11X_USART
	bool

config GD32E11X_WDGT
	bool
	default n

endmenu # GD32E11x Peripheral Support


config GD32E11X_NOEXT_VECTORS
	bool "Disable the ARMv7-M EXT vectors"
	default n
	---help---
		Sometimes you may not need any Vector support beyond SysTick
		and wish to save memory. This applies only to ARMv7-M architectures.


choice
	prompt "JTAG Configuration"
	default GD32E11X_JTAG_DISABLE
	---help---
		JTAG Enable settings (by default JTAG-DP and SW-DP are disabled)

config GD32E11X_JTAG_DISABLE
	bool "Disable all JTAG clocking"

config GD32E11X_JTAG_FULL_ENABLE
	bool "Enable full SWJ (JTAG-DP + SW-DP)"

config GD32E11X_JTAG_NOJNTRST_ENABLE
	bool "Enable full SWJ (JTAG-DP + SW-DP) but without JNTRST"

config GD32E11X_JTAG_SW_ENABLE
	bool "Set JTAG-DP disabled and SW-DP enabled"

endchoice


config GD32E11X_DISABLE_IDLE_SLEEP_DURING_DEBUG
	bool "Disable IDLE Sleep (WFI) in debug mode"
	default n
	---help---
		In debug configuration, disables the WFI instruction in the IDLE loop
		to prevent the JTAG from disconnecting.

config GD32E11X_FORCEPOWER
	bool "Force power"
	default n
	---help---
		Timer and I2C devices may need to the following to force power to be applied
		unconditionally at power up.  (Otherwise, the device is powered when it is
		initialized).

config ARCH_BOARD_GD32E11X_CUSTOM_CLOCKCONFIG
	bool "Custom clock configuration"
	default n
	---help---
		Enables special, board-specific GD32E11X clock configuration.

config GD32E11X_EXTERNAL_RAM
	bool "External RAM on EXMC"
	default n
	depends on GD32E11X_EXMC
	select ARCH_HAVE_HEAP2
	---help---
		In addition to internal SRAM, external RAM may be available through the EXMC.


menu "Timer Configuration"
	depends on GD32E11X_TIMER

if SCHED_TICKLESS

config GD32E11X_TICKLESS_TIMER
	int "Tickless by hardware timer"
	default 1
	range 0 7
	---help---
		If the Tickless OS feature is enabled, then one clock must be
		assigned to provided the timer needed by the OS.

config GD32E11X_TICKLESS_CHANNEL
	int "Tickless timer channel"
	default 0
	range 0 3
	---help---
		If the Tickless OS feature is enabled, the one clock must be
		assigned to provided the free-running timer needed by the OS
		and one channel on that clock is needed to handle intervals.

endif # SCHED_TICKLESS

config GD32E11X_FREERUN
	bool "Timer free-running wrapper"
	default n
	---help---
		Enable a wrapper around the low level timer/counter functions to
		support a free-running timer.

config GD32E11X_ONESHOT
	bool "Timer one-shot wrapper"
	default n
	---help---
		Enable a wrapper around the low level timer/counter functions to
		support one-shot timer.

config GD32E11X_ONESHOT_MAXTIMERS
	int "Maximum number of oneshot timers"
	default 1
	range 1 8
	depends on GD32E11X_ONESHOT
	---help---
		Determines the maximum number of oneshot timers that can be
		supported.  This setting pre-allocates some minimal support for each
		of the timers and places an upper limit on the number of oneshot
		timers that you can use.

config GD32E11X_TIMER0_PWM
	bool "TIMER0 PWM"
	default n
	depends on GD32E11X_TIMER0
	select ARCH_HAVE_PWM_PULSECOUNT
	---help---
		Reserve timer 0 for use by PWM

		Timer devices may be used for different purposes.  One special purpose is
		to generate modulated outputs for such things as motor control.
		If GD32E11X_TIMER0 is defined then THIS following may also be defined
		to indicate that the timer is intended to be used for pulsed output
		modulation.

config GD32E11X_TIMER0_MODE
	int "TIMER0 Mode"
	default 0
	range 0 4
	depends on GD32E11X_TIMER0_PWM
	---help---
		Specifies the timer mode.

config GD32E11X_TIMER0_FDTS
	int "TIMER0 CKDIV for f_DTS"
	default 0
	range 0 2
	depends on GD32E11X_TIMER0_PWM
	---help---
		The CKDIV bits can be configured by software to specify division ratio
		between the timer clock (TIMER_CK) and the dead-time and sampling clock (DTS),
		which is used by the dead-time generators and the digital filters.

config GD32E11X_TIMER0_DEADTIME
	int "TIMER0 Dead-time configure"
	default 0
	range 0 255
	depends on GD32E11X_TIMER0_PWM
	---help---
		This controls the value of the dead-time, which is inserted before the
		output transitions.

config GD32E11X_TIMER0_CHANNEL0
	bool "TIMER0 PWM Channel 0"
	default n
	depends on GD32E11X_TIMER0_PWM
	---help---
		Enables channel 0.

config GD32E11X_TIMER0_CH0MODE
	int "TIMER0 Channel 0 compare output mode control"
	default 6
	range 0 7
	depends on GD32E11X_TIMER0_CHANNEL0
	---help---
		This controls the behavior of the output reference signal O0CPRE
		which drives CH0_O and CH0_ON.

config GD32E11X_TIMER0_CH0O
	bool "TIMER0 Channel 0 Output"
	default n
	depends on GD32E11X_TIMER0_CHANNEL0
	---help---
		Enables channel 0 output.

config GD32E11X_TIMER0_CH0ON
	bool "TIMER0 Channel 0 Complementary Output"
	default n
	depends on GD32E11X_TIMER0_CHANNEL0
	---help---
		Enables channel 0 Complementary Output.

config GD32E11X_TIMER0_CHANNEL1
	bool "TIMER0 PWM Channel 1"
	default n
	depends on GD32E11X_TIMER0_PWM
	---help---
		Enables channel 1.

config GD32E11X_TIMER0_CH1MODE
	int "TIMER0 Channel 1 compare output mode control"
	default 6
	range 0 7
	depends on GD32E11X_TIMER0_CHANNEL1
	---help---
		This controls the behavior of the output reference signal O1CPRE
		which drives CH1_O and CH1_ON.

config GD32E11X_TIMER0_CH1O
	bool "TIMER0 Channel 1 Output"
	default n
	depends on GD32E11X_TIMER0_CHANNEL1
	---help---
		Enables channel 1 output.

config GD32E11X_TIMER0_CH1ON
	bool "TIMER0 Channel 1 Complementary Output"
	default n
	depends on GD32E11X_TIMER0_CHANNEL1
	---help---
		Enables channel 1 Complementary Output.

config GD32E11X_TIMER0_CHANNEL2
	bool "TIMER0 PWM Channel 2"
	default n
	depends on GD32E11X_TIMER0_PWM
	---help---
		Enables channel 2.

config GD32E11X_TIMER0_CH2MODE
	int "TIMER0 Channel 2 compare output mode control"
	default 6
	range 0 7
	depends on GD32E11X_TIMER0_CHANNEL2
	---help---
		This controls the behavior of the output reference signal O2CPRE
		which drives CH2_O and CH2_ON.

config GD32E11X_TIMER0_CH2O
	bool "TIMER0 Channel 2 Output"
	default n
	depends on GD32E11X_TIMER0_CHANNEL2
	---help---
		Enables channel 2 output.

config GD32E11X_TIMER0_CH2ON
	bool "TIMER0 Channel 2 Complementary Output"
	default n
	depends on GD32E11X_TIMER0_CHANNEL2
	---help---
		Enables channel 2 Complementary Output.

config GD32E11X_TIMER0_CHANNEL3
	bool "TIMER0 PWM Channel 3"
	default n
	depends on GD32E11X_TIMER0_PWM
	---help---
		Enables channel 3.

config GD32E11X_TIMER0_CH3MODE
	int "TIMER0 Channel 3 compare output mode control"
	default 6
	range 0 7
	depends on GD32E11X_TIMER0_CHANNEL3
	---help---
		This controls the behavior of the output reference signal O3CPRE
		which drives CH3_O and CH3_ON.

config GD32E11X_TIMER0_CH3O
	bool "TIMER0 Channel 3 Output"
	default n
	depends on GD32E11X_TIMER0_CHANNEL3
	---help---
		Enables channel 3 output.

config GD32E11X_TIMER0_CH3ON
	bool "TIMER0 Channel 3 Complementary Output"
	default n
	depends on GD32E11X_TIMER0_CHANNEL3
	---help---
		Enables channel 3 Complementary Output.

config GD32E11X_TIMER0_ADC
	bool "TIMER0 ADC"
	default n
	depends on GD32E11X_TIMER0 && GD32E11X_ADC
	---help---
		Reserve timer 0 for use by ADC

		Timer can be used for different purposes. When the timer0
		is intended to be used for ADC conversion, the GD32E11X_TIMER0
		and GD32E11X_ADC should be defined before. There requires two
		definition for ADC usage:  First, assign which timer is used to
		trigger the ADC. Second, and configure which ADC to sample.

choice
	prompt "Select TIMER0 ADC channel"
	default GD32E11X_TIMER0_ADC0
	depends on GD32E11X_TIMER0_ADC

config GD32E11X_TIMER0_ADC0
	bool "TIMER0 ADC channel 0"
	depends on GD32E11X_ADC0
	select GD32E11X_HAVE_ADC0_TIMER
	---help---
		Reserve TIMER0 to trigger ADC0

config GD32E11X_TIMER0_ADC1
	bool "TIMER0 ADC channel 1"
	depends on GD32E11X_ADC1
	select GD32E11X_HAVE_ADC1_TIMER
	---help---
		Reserve TIMER0 to trigger ADC1

endchoice

config GD32E11X_HAVE_ADC0_TIMER
	bool
	default n

config GD32E11X_HAVE_ADC1_TIMER
	bool
	default n

config GD32E11X_ADC0_SAMPLE_FREQUENCY
	int "ADC0 Sampling Frequency"
	default 500
	depends on GD32E11X_HAVE_ADC0_TIMER
	---help---
		ADC0 sampling frequency.  Default:  500Hz

config GD32E11X_ADC0_TIMERTRIG
	int "ADC0 Timer Trigger Select"
	default 0
	range 0 4
	depends on GD32E11X_HAVE_ADC0_TIMER
	---help---
		Values 0:CH0 1:CH1 2:CH2 3:CH3 4:TRGO

config GD32E11X_ADC1_SAMPLE_FREQUENCY
	int "ADC1 Sampling Frequency"
	default 500
	depends on GD32E11X_HAVE_ADC1_TIMER
	---help---
		ADC1 sampling frequency.  Default:  500Hz

config GD32E11X_ADC1_TIMERTRIG
	int "ADC1 Timer Trigger Select"
	default 0
	range 0 4
	depends on GD32E11X_HAVE_ADC1_TIMER
	---help---
		Values 0:CH0 1:CH1 2:CH2 3:CH3 4:TRGO

config GD32E11X_TIMER0_DAC
	bool "TIMER0 DAC"
	default n
	depends on GD32E11X_TIMER0 && GD32E11X_DAC
	---help---
		Reserve timer 0 for use by DAC

		Timer can be used for different purposes. When the timer0
		is intended to be used for DAC conversion, the GD32E11X_TIMER0
		and GD32E11X_DAC should be defined before. There requires two
		definition for DAC usage:  First, assign which timer is used to
		trigger the DAC. Second, and configure which DAC channel to work.

choice
	prompt "Select TIMER DAC channel"
	default GD32E11X_TIMER0_DAC0
	depends on GD32E11X_TIMER0_DAC

config GD32E11X_TIMER0_DAC0
	bool "TIMER0 DAC channel 0"
	---help---
		Reserve TIMER0 to trigger DAC0

config GD32E11X_TIMER0_DAC1
	bool "TIMER0 DAC channel 1"
	---help---
		Reserve TIMER0 to trigger DAC1

endchoice

config GD32E11X_TIMER0_CAP
	bool "TIMER0 Capture"
	default n
	depends on GD32E11X_TIMER0
	---help---
		Reserve timer 0 for use by Capture

		Timer can be used for different purposes. To capture input is
		one of the usual purpose.

menu "GD32E11X TIMER Outputs Configuration"

config GD32E11X_TIMER0_CH0P
	int "TIMER0 Channel 0 Output polarity"
	default 0
	range 0 1
	depends on GD32E11X_TIMER0_CH0O
	---help---
		TIMER0 Channel 0 output polarity

config GD32E11X_TIMER0_CH0IDLE
	int "TIMER0 Channel 0 Idle State"
	default 0
	range 0 1
	depends on GD32E11X_TIMER0_CH0O
	---help---
		TIMER0 Channel 0 output IDLE state

config GD32E11X_TIMER0_CH0NP
	int "TIMER0 Channel 0 Complementary Output polarity"
	default 0
	range 0 1
	depends on GD32E11X_TIMER0_CH0ON
	---help---
		TIMER0 Channel 0 Complementary output polarity

config GD32E11X_TIMER0_CH0NIDLE
	int "TIMER0 Channel 0 Complementary Idle State"
	default 0
	range 0 1
	depends on GD32E11X_TIMER0_CH0ON
	---help---
		TIMER0 Channel 0 Complementary output IDLE state

endmenu # GD32E11X TIMER Outputs Configuration

endmenu # Timer Configuration


menu "GD32E11x USART Configuration"
	depends on GD32E11X_USART

config GD32E11X_PM_SERIAL_ACTIVITY
	int "PM serial activity"
	default 10
	depends on PM
	---help---
		PM activity reported when serial data is received.

config GD32E11X_SERIAL_DISABLE_REORDERING
	bool "Disable reordering of ttySx devices."
	depends on GD32E11X_USART
	default n
	---help---
		NuttX per default reorders the serial ports (/dev/ttySx) so that the
		console is always on /dev/ttyS0. If more than one UART is in use,
		this can, however, have the side-effect that the mapping of
		hardware UARTs to /dev/ttySx cannot be predicted without knowing
		the configuration. With this option selected, the reordering is
		disabled and the mapping is always the same.

config GD32E11X_FLOWCONTROL_BROKEN
	bool "Use Software UART RTS flow control"
	depends on GD32E11X_USART
	default n
	---help---
		Enable this option to use software RTS flow control.

config GD32E11X_USART0_RS485
	bool "RS-485 on USART0"
	default n
	depends on GD32E11X_USART0
	---help---
		Enable RS-485 interface on USART0. Your board config will have to
		provide GPIO_USART0_RS485_DIR pin definition. Currently it cannot be
		used with GD32E11X_SERIAL_DISABLE_REORDERING.

config GD32E11X_USART1_RS485
	bool "RS-485 on USART1"
	default n
	depends on GD32E11X_USART1
	---help---
		Enable RS-485 interface on USART1. Your board config will have to
		provide GPIO_USART1_RS485_DIR pin definition. Currently it cannot be
		used with GD32E11X_SERIAL_DISABLE_REORDERING.

config GD32E11X_USART2_RS485
	bool "RS-485 on USART2"
	default n
	depends on GD32E11X_USART2
	---help---
		Enable RS-485 interface on USART2. Your board config will have to
		provide GPIO_USART2_RS485_DIR pin definition. Currently it cannot be
		used with GD32E11X_SERIAL_DISABLE_REORDERING.

config GD32E11X_UART3_RS485
	bool "RS-485 on UART3"
	default n
	depends on GD32E11X_UART3
	---help---
		Enable RS-485 interface on UART3. Your board config will have to
		provide GPIO_UART3_RS485_DIR pin definition. Currently it cannot be
		used with GD32E11X_SERIAL_DISABLE_REORDERING.

config GD32E11X_UART4_RS485
	bool "RS-485 on UART4"
	default n
	depends on GD32E11X_UART4
	---help---
		Enable RS-485 interface on UART4. Your board config will have to
		provide GPIO_UART4_RS485_DIR pin definition. Currently it cannot be
		used with GD32E11X_SERIAL_DISABLE_REORDERING.

endmenu # GD32E11x USART Configuration

menu "GD32E11x EXMC Configuration"
	depends on GD32E11X_EXMC

config GD32E11X_EXTERNAL_RAM
	bool "External RAM via EXMC"
	default n
	depends on GD32E11X_EXMC
	---help---
		Enable external RAM connected via EXMC (External Memory Controller).
		The external RAM will be added as a second heap region.
		Note: CONFIG_HEAP2_BASE and CONFIG_HEAP2_SIZE must be defined
		in board configuration.

endmenu # GD32E11x EXMC Configuration

menu "GD32E11x I2C Configuration"
	depends on GD32E11X_I2C

config GD32E11X_I2C_DYNTIMEO
	bool "Use dynamic timeouts"
	default n
	depends on GD32E11X_I2C
	---help---
		Support dynamic computation of I2C timeouts based on transfer size.

config GD32E11X_I2C_DYNTIMEO_USECPERBYTE
	int "Timeout microseconds per Byte"
	default 500
	depends on GD32E11X_I2C_DYNTIMEO
	---help---
		Microseconds per byte to calculate dynamic timeout.

config GD32E11X_I2C_DYNTIMEO_STARTSTOP
	int "Timeout for Start/stop (milliseconds)"
	default 1000
	depends on GD32E11X_I2C_DYNTIMEO
	---help---
		Timeout in milliseconds for start/stop condition.

config GD32E11X_I2C_TIMEOSEC
	int "Timeout seconds"
	default 0
	depends on GD32E11X_I2C
	---help---
		Seconds component of fixed I2C timeout.

config GD32E11X_I2C_TIMEOMS
	int "Timeout milliseconds"
	default 500
	depends on GD32E11X_I2C && !GD32E11X_I2C_DYNTIMEO
	---help---
		Milliseconds component of fixed I2C timeout.

config GD32E11X_I2C_TIMEOTICKS
	int "Timeout for Done and Stop (ticks)"
	default 500
	depends on GD32E11X_I2C && !GD32E11X_I2C_DYNTIMEO
	---help---
		Timeout in system ticks for operation completion.

config GD32E11X_I2C_DUTY16_9
	bool "Frequency with Tlow/Thigh = 16/9"
	default n
	depends on GD32E11X_I2C
	---help---
		Enable I2C fast mode duty cycle of 16/9 instead of 2/1.

config GD32E11X_I2C_DMA
	bool "I2C DMA Support"
	default n
	depends on GD32E11X_I2C && GD32E11X_DMA0 && !I2C_POLLED
	---help---
		Enable DMA support for I2C transfers.

endmenu # GD32E11x I2C Configuration
menu "GD32E11X SPI Configuration"
	depends on GD32E11X_SPI

config GD32E11X_SPI_INTERRUPT
	bool "Support SPI interrupt"
	default n
	---help---
		Select to support SPI interrupt. Non-interrupt-driven, poll-waiting is recommended
		if the interrupt rate would be too high in the interrupt driven case.

config GD32E11X_SPI_DMA
	bool "SPI DMA"
	default n
	depends on GD32E11X_DMA && !GD32E11X_SPI_INTERRUPT
	---help---
		Use DMA to improve SPI transfer performance.
		Should not be used with GD32E11X_SPI_INTERRUPT at the same time.

config GD32E11X_SPI_DMATHRESHOLD
	int "SPI DMA threshold"
	default 4
	depends on GD32E11X_SPI_DMA
	---help---
		When SPI DMA is enabled, if transfer size is less than GD32E11X_SPI_DMATHRESHOLD,
		the data transfer will still be performed by polling logic.

config GD32E11X_SPI0_DMA
	bool "SPI0 DMA"
	default n
	depends on GD32E11X_SPI0 && GD32E11X_SPI_DMA
	# depends on GD32E11X_SPI0 && GD32E11X_SPI_DMA && GD32E11X_DMA1
	---help---
		Use DMA to improve SPI0 transfer performance.
		Should enable GD32E11X DMA1.

config GD32E11X_SPI0_DMA_BUFFER
	int "SPI0 DMA buffer size"
	default 0
	depends on GD32E11X_SPI0_DMA
	---help---
		DMA buffer for SPI0 RX and TX DMA, recommended buffer size is a multiple of 4.

config GD32E11X_SPI1_DMA
	bool "SPI1 DMA"
	default n
	depends on GD32E11X_SPI1 && GD32E11X_SPI_DMA
	# depends on GD32E11X_SPI1 && GD32E11X_SPI_DMA && GD32E11X_DMA0
	---help---
		Use DMA to improve SPI1 transfer performance.
		Should enable GD32E11X DMA0.

config GD32E11X_SPI1_DMA_BUFFER
	int "SPI1 DMA buffer size"
	default 0
	depends on GD32E11X_SPI1_DMA
	---help---
		DMA buffer for SPI1 RX and TX DMA, recommended buffer size is a multiple of 4.

config GD32E11X_SPI2_DMA
	bool "SPI2 DMA"
	default n
	depends on GD32E11X_SPI2 && GD32E11X_SPI_DMA
	# depends on GD32E11X_SPI2 && GD32E11X_SPI_DMA && GD32E11X_DMA0
	---help---
		Use DMA to improve SPI2 transfer performance.
		Should enable GD32E11X DMA0.

config GD32E11X_SPI2_DMA_BUFFER
	int "SPI2 DMA buffer size"
	default 0
	depends on GD32E11X_SPI2_DMA
	---help---
		DMA buffer for SPI2 RX and TX DMA, recommended buffer size is a multiple of 4.

endmenu # GD32E11X SPI Configuration
